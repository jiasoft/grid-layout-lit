{"version":3,"file":"grid-layout-lit.js","sourceRoot":"","sources":["../../src/grid-layout-lit.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, LitElement } from \"lit\";\nimport { property, state, customElement } from \"lit/decorators.js\";\nimport {\n  GridItemReizeName,\n  GridItemStyleType,\n  ActiveGridItemStyleType,\n  GridItemData,\n  ItemData,\n} from \"./types.js\";\nimport {\n  MORE_SVG,\n  TITLE_SVG,\n  DELETE_SVG,\n  ADD_SVG,\n  BACK_LAYOUT,\n  FORWARD_LAYOUT,\n  SAVE_LAYOUT,\n  CLOSE_LAYOUT,\n  EDIT_SVG,\n  STYLE_SVG,\n  ZINDEX_UP_SVG,\n  ZINDEX_DOWN_SVG,\n  DELETE_LAYOUT_SVG,\n} from \"./icon.js\";\n// import { generateRandomUID } from '../../lib/api'\nconst generateRandomUID = () => {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0,\n      v = c === \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\ntype HtmlPosition = {\n  left: number;\n  top: number;\n};\ntype GridPosition = {\n  x: number;\n  y: number;\n};\n\nconst DRAG_ID = \"100000\";\n@customElement(\"grid-layout-lit\")\nexport class GridLayoutLit extends LitElement {\n  /**\n   * @state 相当于数据绑定 有变化触发页面渲染\n   * @property 外部可调用 外部传入\n   */\n\n  /**\n   * 这个属性改动，页面才会render\n   */\n  @state() RenderIndex: number = 0;\n  /**\n   * 网格间距,每个间距是一个网格数\n   */\n  @property({ type: Number }) gridMargin = 1;\n  @property({ type: Boolean }) edit = false;\n  @property({ type: Array }) layoutData: GridItemData[] = [];\n  @property({ type: Boolean }) hideToolbar = false;\n  @property({ type: Array }) headerConfigList = [];\n  /**\n   * 拖拽布局默认样式\n   */\n  private $layoutDefaultGridStyle: GridItemStyleType = {\n    borderRadius: 3,\n    borderColor: \"#c3c3c3\",\n    borderWidth: 1,\n    borderStyle: \"solid\",\n    titleColor: \"\",\n    contentColor: \"\",\n    disableScrollBars: false,\n  };\n  @property({ type: Object })\n  get layoutDefaultGridStyle(): GridItemStyleType {\n    return this.$layoutDefaultGridStyle;\n  }\n  @property({ type: Object }) i18n = {\n    t: (k: string, b: boolean) => k,\n    tt: (k: string, b: boolean) => k,\n    locale: \"zh-cn\",\n  };\n  set layoutDefaultGridStyle(val: GridItemStyleType) {\n    this.$layoutDefaultGridStyle = val || this.$layoutDefaultGridStyle;\n    this.style.overflowY = this.isDisableScrollBars ? \"hidden\" : \"auto\";\n  }\n  /**\n   * 拖拽布局总体宽度 像素\n   */\n  @property({ type: Number })\n  stageWidth: number = 1000;\n  /**\n   * 拖拽布局总体高度 像素\n   */\n  @property({ type: Number })\n  stageHeight: number = 800;\n  /**\n   * 是否显示滚动条\n   */\n  get hasDisplayScrollBar() {\n    if (this.layoutDefaultGridStyle.disableScrollBars) return false;\n    return this.calcStageActualHeight > this.clientHeight;\n  }\n  // @property({ type: Boolean }) disableScrollBars = false //是否禁止滚动\n  /**\n   * 宽度最大的网格数\n   */\n  maxGridItemWidthCount: number = 173;\n  /**\n   * 高度最大的网格数\n   */\n  maxGridItemHeightCount: number = 86;\n  /**\n   * 当前点击弹出菜单的Postion\n   */\n  curGridItemSubMenuPos: GridPosition = { x: 0, y: 0 };\n  /**\n   * 显示相关的GridItem 的菜单\n   */\n  curGridItemSubMenuShow: boolean = false;\n  /**\n   * 当前点击弹出菜单GridItem\n   */\n  curGridItemSubMenuGridData: GridItemData | null = null;\n\n  // styleMapEditing: boolean = false\n  showDialogGridStyle: boolean = false;\n  /**\n   * 底部占位阴影的数据\n   * (所有gridItem共用一个阴影)\n   */\n  dragData = { x: 0, y: 0, w: 60, h: 60, z: 0, id: DRAG_ID };\n  draggIng: boolean = false;\n  floatStep: number = 1;\n  lightningId: string = \"\";\n  /** resize相关 */\n\n  /**\n   * 移动初始位置\n   */\n  resizeFixPosition: any = { top: 0, left: 0 };\n  /**\n   * 移动中的位置\n   */\n  resizeingPosition: any = { top: 0, left: 0 };\n  /**\n   * 移动初始griditem 数据\n   */\n  resizeFixGridItemData: GridItemData | null = null;\n  /**\n   * 当前移动中的 gridItem 数据\n   */\n  curResizingGridItemData: any | null = null;\n\n  /**\n   * 暂时无用\n   * 存储数据\n   */\n  dataStore: any[] = [];\n  dataStoreIndex: number = 0;\n  curMovingGridItemData: any | null = null;\n  movePosition: HtmlPosition = { left: 0, top: 0 };\n  // fixPosition: HtmlPosition = { left: 0, top: 0 }\n  // oldPosition: HtmlPosition = { left: 0, top: 0 }\n  transition: boolean = false;\n  /**\n   * 默认 每个拖拽项目的宽高 所占的网格数\n   */\n  defaultGridItemWidth: number = 13;\n  defaultGridItemHeight: number = 7;\n\n  defaultRightMargin: number = 3;\n  /**\n   * 是否禁止滚动条\n   */\n  get isDisableScrollBars(): boolean {\n    return this.layoutDefaultGridStyle.disableScrollBars;\n  }\n  /**\n   * 正常情况下 有滚动条 的时候 每个网格的宽度所占的像素值\n   */\n  get griddingWidth(): number {\n    return this.stageWidth / this.maxGridItemWidthCount;\n  }\n  /**\n   * 计算每个网格的高度所占的像素值\n   */\n  get griddingHeight(): number {\n    //满屏算法  计算没有滚动条的时候 计算出每个网格的高度\n    if (!this.edit && this.layoutDefaultGridStyle?.disableScrollBars) {\n      const _griddingHeight: number =\n        this.stageHeight / this.calcStageVirtualHeight;\n      return _griddingHeight < this.griddingWidth\n        ? _griddingHeight\n        : this.griddingWidth;\n    }\n    return this.griddingWidth;\n  }\n  /**\n   * 选中的GridItem\n   */\n  get selectedGridItem() {\n    return this.layoutData.find((item) => item.selected);\n  }\n  /**\n   * 重新渲染\n   */\n  reRender() {\n    this.RenderIndex++;\n  }\n  /**\n   * 拖拽阴影dom\n   * @returns\n   */\n  drawDragDataHtml() {\n    return html`<div\n      class=\"grid-item drag\"\n      drag=\"${true}\"\n      style=\"${this.getGridItemStyle(this.dragData)}\"\n    ></div>`;\n  }\n  constructor() {\n    super();\n  }\n  /**\n   * 查找GridItem\n   * @param id gridItem id\n   * @returns\n   */\n  findGridItemData = (id: any): GridItemData | undefined => {\n    return this.layoutData.find((item: GridItemData) => item.id === id);\n  };\n  /**\n   * 添加 gridItem\n   * @returns\n   */\n  addGridItem() {\n    const w = this.defaultGridItemWidth;\n    const h = this.defaultGridItemHeight;\n    const { x, y } = this.getEmptyBound(w, h, false);\n    const tid = generateRandomUID();\n    const floatCount = this.layoutData.filter((item) => item.float).length;\n    const item: GridItemData = {\n      x,\n      y,\n      w,\n      h,\n      z: floatCount,\n      id: tid,\n      slot: \"slot_\" + tid,\n      title: tid,\n    };\n    if (this.isDisableScrollBars) {\n      const maxHeight = this.getBoundingClientRect().height;\n      if ((y + h) * this.griddingWidth >= maxHeight) {\n        item.float = true;\n        if (\n          (this.floatStep + item.w) * this.griddingWidth >= this.stageWidth ||\n          (this.floatStep + item.h) * this.griddingHeight >= maxHeight\n        ) {\n          this.floatStep = 1;\n        }\n        item.y = this.floatStep + 1;\n        item.x = this.floatStep + 1;\n\n        this.floatStep = item.y;\n      }\n    }\n\n    this.layoutData.push(item);\n    this.reRender();\n    this.saveCurLayout();\n\n    return item;\n  }\n  /**\n   * 闪一下Grid的样式\n   * @param grid\n   */\n  lightningGrid(grid: GridItemData) {\n    this.lightningId = String(grid.id);\n    this.reRender();\n    this.focusGridItem(grid);\n    setTimeout(() => {\n      this.lightningId = \"\";\n      this.reRender();\n    }, 500);\n  }\n  /**\n   * 移动到这个GridItem的显示屏上\n   * @param grid\n   */\n  focusGridItem(grid: GridItemData) {\n    setTimeout(async () => {\n      const index: number = this.layoutData.findIndex(\n        (item) => item.id === grid.id\n      );\n      const element: Element | null | undefined = await this.getGridItemElement(\n        index\n      );\n      if (!element) return;\n      const input = document.createElement(\"input\");\n      input.style.position = \"absolute\";\n      input.style.opacity = \"0.01\";\n      element.appendChild(input);\n      input.focus();\n      setTimeout(() => {\n        element.removeChild(input);\n      }, 50);\n    }, 100);\n  }\n  /**\n   * 获取GridItem的元素\n   * @param index gridItem的index\n   * @returns\n   */\n  getGridItemElement(index: number): Promise<Element | null | undefined> {\n    return new Promise((resolve) => {\n      let length = 20;\n      const loopfindGridItem = () => {\n        const ele: Element | null | undefined = this.shadowRoot?.querySelector(\n          `.grid-item[data-index=\"${index}\"]`\n        );\n        if (ele) {\n          resolve(ele);\n        } else {\n          setTimeout(() => {\n            if (--length <= 0) {\n              resolve(null);\n              return;\n            }\n            loopfindGridItem();\n          }, 10);\n        }\n      };\n      loopfindGridItem();\n    });\n  }\n  /**\n   * 获取空间的位置\n   * @param w\n   * @param h\n   * @returns { x, y }\n   */\n  getEmptyBound(w: number, h: number, exceptFloatItem: boolean = true) {\n    let x = this.gridMargin,\n      y = this.gridMargin;\n    let item = this.findBigestOverlapItem(\n      this.layoutData,\n      x,\n      y,\n      w,\n      h,\n      [],\n      exceptFloatItem\n    );\n    while (item) {\n      x = item.x + item.w + this.gridMargin;\n      if (\n        (x + this.gridMargin) * this.griddingWidth + w * this.griddingWidth >\n        this.stageWidth\n      ) {\n        y += this.gridMargin;\n        x = this.gridMargin;\n      }\n      item = this.findBigestOverlapItem(\n        this.layoutData,\n        x,\n        y,\n        w,\n        h,\n        [],\n        exceptFloatItem\n      );\n    }\n    return { x, y };\n  }\n  /**\n   * 查找存在的最大的重叠交叉项\n   * */\n  findBigestOverlapItem = (\n    dataList: GridItemData[],\n    x: number,\n    y: number,\n    w: number, //每个网格宽度所占的像素值\n    h: number, //每个网格高度所占的像素值\n    exceptIds: any[],\n    exceptFloatItem: boolean = true\n  ): GridItemData | undefined => {\n    const list = this.findOverlapItem(\n      dataList,\n      x,\n      y,\n      w,\n      h,\n      exceptIds,\n      0,\n      exceptFloatItem\n    );\n    let BigestOverlapArea = -99999999999; //最大的重叠交叉面积\n    let BigestOverlapItem: any = undefined;\n    list.forEach((item: any) => {\n      const curItemX = item.x;\n      const curItemY = item.y;\n      const curItemW = item.w;\n      const curItemH = item.h;\n      const overX1 = Math.max(x, curItemX);\n      const overX2 = Math.min(x + w, curItemX + curItemW);\n      const overW = overX2 - overX1;\n      const overY1 = Math.max(y, curItemY);\n      const overY2 = Math.min(y + h, curItemY + curItemH);\n      const overH = overY2 - overY1;\n      const overArea = overH * overW;\n      if (overArea > BigestOverlapArea) {\n        BigestOverlapArea = overArea;\n        BigestOverlapItem = item;\n      }\n    });\n\n    return BigestOverlapItem;\n  };\n  /**\n   * 获取交叉的GridItem 列表\n   * @param x x\n   * @param y y\n   * @param w w\n   * @param h h\n   * @param exceptIds 排除的id\n   * @param exceptFloatItem 排除 浮动的项目\n   * @param overCount 暂时定为 允许 重叠的网格个数\n   * @returns 交叉的GridItem 列表\n   */\n  findOverlapItem = (\n    dataList: GridItemData[],\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    exceptIds: any[],\n    overCount: number = 0,\n    exceptFloatItem: boolean = true\n  ): GridItemData[] => {\n    const list: GridItemData[] = [];\n    let data = [...dataList];\n    if (exceptFloatItem) data = data.filter((item: any) => !item.float);\n    if (this.curActiveGridItem && this.dragData) {\n      // 如果有正在拖动的 那么 将正在拖动的项目添加到列表中\n      if (!data.find((item) => item.id === this.dragData.id)) {\n        data = [...data, this.dragData];\n      }\n    }\n    for (let i = 0; i < data.length; i++) {\n      const item = data[i];\n      // 如果当前项目正在排出列表中 直接跳过循环\n      if (exceptIds && exceptIds.indexOf(item.id) >= 0) {\n        continue;\n      }\n      // 当前项目的位置 大小 信息\n      const curItemX = item.x;\n      const curItemY = item.y;\n      const curItemW = item.w;\n      const curItemH = item.h;\n      // 对比项目(传入的) 与当前项目 对比 取出较小的\n      const x1 = Math.min(curItemX, x);\n      // 对比项目(传入的) 与当前项目 对比 取出较大的\n      const x2 = Math.max(curItemX + curItemW, x + w);\n\n      const y1 = Math.min(curItemY, y);\n      const y2 = Math.max(curItemY + curItemH, y + h);\n\n      //是否存在交叉的算法\n      // 假如两个项目重叠  那么 第一个项目的最左侧 + 第二个项目的最右侧 的 宽度 一定小于 两个 项目的宽度和\n      // 高度同上\n      if (\n        x2 - x1 - (curItemW + w) + overCount < this.gridMargin &&\n        y2 - y1 - (curItemH + h) + overCount < this.gridMargin\n      ) {\n        list.push(item);\n      }\n    }\n    return list;\n  };\n  /**\n   * Resize start 拖拉grid item 的大小\n   * @param event MouseEvent\n   */\n  gridItemResizeStart(event: MouseEvent) {\n    if (!this.edit) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    // 获取当前 item的索引\n    const index = this.getGridItemIndex(event.currentTarget);\n    // 当前拖拽项目数据\n    this.curResizingGridItemData = this.layoutData[index];\n    // 复制当前拖拽项目数据\n    this.resizeFixGridItemData = { ...this.layoutData[index] };\n    // 鼠标的位置\n    // 记录鼠标按下时的位置\n    this.resizeFixPosition.left = event.clientX;\n    this.resizeFixPosition.top = event.clientY;\n    // 记录鼠标拖动中的位置\n    this.resizeingPosition.left = event.clientX;\n    this.resizeingPosition.top = event.clientY;\n    // 开启动画效果\n    this.transition = true;\n    // 重新渲染\n    this.reRender();\n    // 设置dom 今只文字选中\n    document.body.setAttribute(\"onselectstart\", \"return false\");\n    // 设置鼠标为 resize 状态\n    document.body.style.cursor = \"se-resize\";\n\n    // 鼠标移动方法\n    const mouseMove = (event: MouseEvent) => {\n      // 鼠标移动的时候方块大小改变\n      this.gridItemResizeing(event);\n    };\n    // 初始化阴影的位置 所有网格共用一个阴影\n    const { x, y, w, h, id } = this.curResizingGridItemData;\n    this.dragData.x = x;\n    this.dragData.y = y;\n    this.dragData.w = w;\n    this.dragData.h = h;\n    // 释放鼠标左键触发的方法\n    const mouseup = () => {\n      // 移除选中文字的属性\n      document.body.removeAttribute(\"onselectstart\");\n      // 去除鼠标箭头样式\n      document.body.style.cursor = \"\";\n      // 结束网格 resize 状态\n      this.gridItemResizeEnd();\n      window.removeEventListener(\"mousemove\", mouseMove);\n      window.removeEventListener(\"mouseup\", mouseup);\n    };\n    // 鼠标移动方法\n    window.addEventListener(\"mousemove\", mouseMove);\n    // 鼠标松开\n    window.addEventListener(\"mouseup\", mouseup);\n  }\n  /**\n   * resizeing  中的方法\n   * @param event\n   */\n  gridItemResizeing(event: any) {\n    // 不是编辑状态 不让拖\n    if (!this.edit) return;\n    // 代码保护\n    if (!this.curResizingGridItemData) return;\n    // 记录移动后鼠标的位置\n    this.resizeingPosition.left = event.clientX;\n    this.resizeingPosition.top = event.clientY;\n    if (!this.resizeFixGridItemData) return;\n    /**\n     * 最终的网格数 = 当前选中的gridItem resize之前的宽度所占的网格数 + 移动过程中 新增/减少 的网格数\n     * 移动过程中 新增/减少 的网格数 = (移动后鼠标的位置像素值 - 移动前鼠标的位置像素值) / 每个网格所占的像素值\n     */\n    let w =\n      this.resizeFixGridItemData?.w +\n      Math.round(\n        (this.resizeingPosition.left - this.resizeFixPosition.left) /\n          this.griddingWidth\n      );\n    let h =\n      this.resizeFixGridItemData?.h +\n      Math.round(\n        (this.resizeingPosition.top - this.resizeFixPosition.top) /\n          this.griddingHeight\n      );\n    // 容器最左端 到该网格左上角的位置横向网格数\n    const x = this.resizeFixGridItemData?.x;\n    // 容器的最上端 到该网格左上角的位置纵向网格数\n    const y = this.resizeFixGridItemData?.y;\n    // 暂时无用 浮动代码可能有用\n    const z = this.resizeFixGridItemData?.z;\n\n    // 调整大小之后 网格 高度的像素值\n    const height =\n      this.resizeFixGridItemData.h * this.griddingHeight +\n      (this.resizeingPosition.top - this.resizeFixPosition.top);\n    // 调整大小之后 网格 宽度的像素值\n    let width =\n      this.resizeFixGridItemData.w * this.griddingWidth +\n      (this.resizeingPosition.left - this.resizeFixPosition.left);\n    // resize过程中 最多只能拖到容器的最大宽度\n    if (width > this.stageWidth - x * this.griddingWidth) {\n      width = this.stageWidth - x * this.griddingWidth;\n    }\n    // 当前resizing 实时变化的宽度和高度 位置信息\n    this.curResizingGridItemData.style = {\n      width,\n      height,\n      left: x * this.griddingWidth,\n      top: y * this.griddingHeight,\n    };\n\n    // resize 完成 之后\n    /** 不允许超出stageWidth */\n    w =\n      w * this.griddingWidth <=\n      this.stageWidth - (x + this.gridMargin) * this.griddingWidth\n        ? w\n        : Math.floor(this.stageWidth / this.griddingWidth) -\n          x -\n          this.gridMargin;\n\n    if (this.isDisableScrollBars) {\n      /** 不允许超出stageHeight */\n      h =\n        h * this.griddingHeight <=\n        this.stageHeight - (y + this.gridMargin) * this.griddingHeight\n          ? h\n          : Math.floor(this.stageHeight / this.griddingHeight) -\n            x -\n            this.gridMargin;\n    }\n\n    // 最小 的 高度和宽度只能拖到 8 和 4\n    w = w < 8 ? 8 : w;\n    h = h < 4 ? 4 : h;\n    // 设置拖拽状态\n    this.draggIng = true;\n    // 设置阴影的位置\n    this.dragData.x = x;\n    this.dragData.y = y;\n    this.dragData.w = w;\n    this.dragData.h = h;\n    // 浮动\n    if (!this.curResizingGridItemData.float) this.rearrangement();\n    // 重新渲染\n    this.reRender();\n    this.dispatchGridItemResizeEvent(this.curResizingGridItemData);\n  }\n  /**\n   * 触发gridItemResize事件\n   */\n  handDispatchGridItemResizeEvent: any = 0;\n  dispatchGridItemResizeEvent(data: GridItemData | undefined | null) {\n    clearTimeout(this.handDispatchGridItemResizeEvent);\n    // 向外发送resize 事件 60s 防抖\n    this.handDispatchGridItemResizeEvent = setTimeout(() => {\n      const resize = new CustomEvent(GridItemReizeName, {\n        detail: data,\n      });\n      window.dispatchEvent(resize);\n    }, 60);\n  }\n  /**\n   * 结束改变大小\n   * Resize end\n   */\n  gridItemResizeEnd() {\n    if (!this.edit) return;\n    this.draggIng = false;\n    const { x, y, w, h } = this.dragData;\n    if (!this.curResizingGridItemData) return;\n    this.curResizingGridItemData.x = x;\n    this.curResizingGridItemData.y = y;\n    this.curResizingGridItemData.w = w;\n    this.curResizingGridItemData.h = h;\n    delete this.curResizingGridItemData.style;\n    this.dispatchGridItemResizeEvent({ ...this.curResizingGridItemData });\n    this.curResizingGridItemData = null;\n    this.rearrangement();\n    this.transition = false;\n    this.reRender();\n    this.saveCurLayout();\n  }\n  /**\n   * ItemStyle事件\n   * @param data GridItemData\n   * @returns\n   */\n  getGridItemStyle(data: GridItemData) {\n    // 拖拽时的 占位item 的 z-index\n    const ActiveZindex = 888;\n    // 拖拽底部阴影的z-index\n    const DragZInxex = 800;\n    const FloatZindex = 900;\n    const css: string[] = [];\n    // 单个项目的自定义样式\n    if (data.activeStyle) {\n      const attr: string[] = [];\n      attr.push(`border-style:${data.activeStyle.borderStyle};`);\n      attr.push(`border-width:${data.activeStyle.borderWidth || 0}px;`);\n      attr.push(\n        `border-color:${data.activeStyle.borderColor || \"transparent\"};`\n      );\n      attr.push(`border-radius:${data.activeStyle.borderRadius || 0}px;`);\n      css.push(`\n                ${attr.join(\"\")}\n            `);\n      css.push(\n        `background-color:${data.activeStyle.contentColor || \"transparent\"};`\n      );\n    }\n    // 当前活动的样式?\n    if (data.style) {\n      css.push(`\n                transition:none;\n                left:${data.style.left}px;\n                top:${data.style.top}px;\n                z-index:${\n                  data.float ? FloatZindex + (data.z || 0) : ActiveZindex\n                };\n                width:${data.style.width}px; \n                height:${data.style.height}px`);\n      return css.join(\"\");\n    }\n    // 计算当前item的位置 宽高\n    const style = {\n      left: data.x * this.griddingWidth,\n      top: data.y * this.griddingHeight,\n      width: data.w * this.griddingWidth,\n      height: data.h * this.griddingHeight,\n    };\n    // 设置z-index\n    let zIndex = data.z || 0;\n    if (data.id === DRAG_ID) zIndex = DragZInxex;\n    if (data.float) zIndex = FloatZindex + (data.z || 0);\n\n    css.push(`\n            left:${style.left}px;\n            top:${style.top}px;\n            z-index:${zIndex};\n            width:${style.width}px; \n            height:${style.height}px;`);\n\n    return css.join(\"\");\n  }\n  /** 保存Layout */\n  saveCurLayout() {\n    const jsonstr = JSON.stringify(this.layoutData);\n    const json = JSON.stringify(\n      JSON.parse(jsonstr).map((item: any) => {\n        delete item.selected;\n        return item;\n      })\n    );\n    if (json != this.dataStore[this.dataStoreIndex]) {\n      this.dataStoreIndex++;\n      this.dataStore[this.dataStoreIndex] = json;\n    }\n  }\n  animateGridItem(item: GridItemData, w: number = 3, h: number = 2) {\n    return new Promise((resolve) => {\n      let minusW = Math.floor((item.w - w) / 5);\n      let minusH = Math.floor((item.h - h) / 5);\n      if (minusW < 1) minusW = 1;\n      if (minusH < 1) minusH = 1;\n      const animate = () => {\n        item.w -= minusW;\n        item.h -= minusH;\n        if (item.w < w) {\n          item.w = w;\n        }\n        if (item.h < h) {\n          item.h = h;\n        }\n        this.rearrangement();\n        this.reRender();\n        if (item.w > w || item.h > h) {\n          window.requestAnimationFrame(() => {\n            animate();\n          });\n        } else {\n          resolve(null);\n        }\n      };\n      animate();\n    });\n  }\n  /** 移除GridItem */\n  async gridItemClose(event: PointerEvent) {\n    const index = this.getGridItemIndex(event.currentTarget);\n    const item: GridItemData = this.layoutData[index];\n\n    await this.animateGridItem(item, 3, 3);\n    this.layoutData.splice(index, 1);\n    this.transition = false;\n    this.rearrangement();\n    this.reRender();\n  }\n  /**\n   * 关闭菜单\n   */\n  closeGridItemSubMenu() {\n    this.curGridItemSubMenuShow = false;\n    this.curGridItemSubMenuGridData = null;\n  }\n  /** 移除GridItem */\n  async gridItemCloseBySubMenu() {\n    if (!this.curGridItemSubMenuGridData) return;\n    const item: GridItemData = this.curGridItemSubMenuGridData;\n    const index = this.layoutData.findIndex((a) => a.id === item.id);\n    await this.animateGridItem(item, 3, 3);\n    const junkGridItem = this.layoutData.splice(index, 1)[0];\n    this.transition = false;\n    this.closeGridItemSubMenu();\n    this.rearrangement();\n    this.reRender();\n    const emit: any = new Event(\"removeGridItem\");\n    emit.detail = junkGridItem;\n    this.dispatchEvent(emit);\n  }\n  getGridItemIndex(target: any) {\n    const grid: HTMLElement | null = target?.closest(\".grid-item\") || null;\n    return Number(grid?.dataset.index || \"0\");\n  }\n  getGridItem(target: any) {\n    const index = this.getGridItemIndex(target);\n    return this.layoutData[index];\n  }\n  /**\n   * 拖拽开始\n   * @param event PointerEvent\n   * @returns void\n   */\n  gridItemDragstart(event: PointerEvent) {\n    // 如果不是编辑状态 则不让拖动\n    if (!this.edit) return;\n    // 拖动的元素\n    const target1: any = event?.target as any;\n    const target = target1.parentElement as HTMLElement;\n\n    // 更多按钮\n    if (!target?.closest(\".btn-more\")) {\n      this.closeGridItemSubMenu();\n    }\n    // 否则 关闭菜单\n    this.closeGridItemSubMenu();\n    // 移除默认效果\n    event.preventDefault();\n    // 获取当前grid item 的数据\n    const grid = this.getGridItem(target);\n    // 设置当前item 为 当前移动的网格item\n    this.curMovingGridItemData = grid;\n    // 代码保护\n    if (!this.curMovingGridItemData) return;\n    // 当前选中项的位置信息\n    const { w, h, x, y, id } = this.curMovingGridItemData;\n    // 当前移动item的位置信息 转换成像素\n    this.movePosition = {\n      left: this.curMovingGridItemData.x * this.griddingWidth,\n      top: this.curMovingGridItemData.y * this.griddingHeight,\n    };\n    // 记住鼠标按下的位置\n    const fixPosition: HtmlPosition = { left: 0, top: 0 };\n    fixPosition.left = event.clientX;\n    fixPosition.top = event.clientY;\n    // 存储以前的位置\n    const oldPosition: HtmlPosition = { left: 0, top: 0 };\n    oldPosition.left = this.movePosition.left;\n    oldPosition.top = this.movePosition.top;\n    // 如果不是当前选中项 那么 移除选中效果\n    this.layoutData.forEach((item) => {\n      if (item.id !== this.curMovingGridItemData.id) delete item.selected;\n    });\n    // 将当前选中项增加选中效果\n    this.curMovingGridItemData.selected = true;\n    // 同步拖拽项 阴影的位置信息\n    this.dragData.w = w;\n    this.dragData.h = h;\n    this.dragData.x = x;\n    this.dragData.y = y;\n    // 添加拖拽项目动画效果\n    this.transition = true;\n    // 重新渲染\n    this.reRender();\n    // 拖拽中的事件\n    const onDragging: any = (event: PointerEvent) => {\n      // 代码保护 如果不是当前移动事件 直接退出\n      if (!this.edit || !this.curMovingGridItemData) return;\n      // 选中当前移动的item\n      this.curMovingGridItemData.selected = true;\n      // 移动中的位置 = 旧位置 + 鼠标移动的距离(px)\n      this.movePosition.left =\n        oldPosition.left + (event.clientX - fixPosition.left);\n      this.movePosition.top =\n        oldPosition.top + (event.clientY - fixPosition.top);\n\n      // 拖拽中的阴影\n      this.draggIng = true;\n\n      // 当前移动中的item\n      const { w, h } = this.curMovingGridItemData;\n      // 阴影的位置\n      this.dragData.w = w;\n      this.dragData.h = h;\n\n      // 计算当前移动item的高度px/宽度px\n      const height = this.curMovingGridItemData.h * this.griddingHeight;\n      const width = this.curMovingGridItemData.w * this.griddingWidth;\n\n      // 设置当前移动item的样式\n      this.curMovingGridItemData.style = {\n        width,\n        height,\n        left: this.movePosition.left,\n        top: this.movePosition.top,\n      };\n      // 将px像素值转成 网格数\n      const { x, y } = this.calcNearPosition(\n        this.movePosition.left,\n        this.movePosition.top\n      );\n\n      // 如果是浮动模式 那么 位置在哪里就是哪里\n      if (this.curMovingGridItemData.float) {\n        this.dragData.x = x;\n        this.dragData.y = y;\n      } else {\n        // 获取最近的空间 将阴影移动到该位置\n        const newPos = this.getNearEmptyPosition({\n          x,\n          y,\n          w,\n          h,\n          id: \"9999\",\n          z: 0,\n        });\n        if (newPos) {\n          this.dragData.x = newPos.x;\n          this.dragData.y = newPos.y;\n        }\n      }\n\n      if (!this.curMovingGridItemData?.float) this.rearrangement();\n      this.reRender();\n    };\n    // 拖拽结束事件\n    const onDragEnd: any = () => {\n      if (!this.edit) return;\n      this.draggIng = false;\n      if (!this.curMovingGridItemData) return;\n      delete this.curMovingGridItemData.style;\n      this.curMovingGridItemData.x = this.dragData.x;\n      this.curMovingGridItemData.y = this.dragData.y;\n      this.curMovingGridItemData = null;\n      // 关闭动画\n      this.transition = false;\n      // 重新渲染\n      this.reRender();\n      // 保存layout 数据\n      this.saveCurLayout();\n      // 移除禁止选中文字\n      document.body.removeAttribute(\"onselectstart\");\n      // 移除监听事件\n      window.removeEventListener(\"mousemove\", onDragging);\n      window.removeEventListener(\"mouseup\", onDragEnd);\n    };\n    // 将dome 禁止选中文字\n    document.body.setAttribute(\"onselectstart\", \"return false\");\n    // 监听鼠标移动事件\n    window.addEventListener(\"mousemove\", onDragging);\n    // 监听鼠标松开事件\n    window.addEventListener(\"mouseup\", onDragEnd);\n  }\n  /**\n   * 转换成的GidPosition\n   * @param left style.left\n   * @param top style.top\n   * @returns {x,y}\n   */\n  calcNearPosition = (left: number, top: number): GridPosition => {\n    const x = Math.round(left / this.griddingWidth);\n    const y = Math.round(top / this.griddingHeight);\n    return { x, y };\n  };\n\n  /**\n   * 获取最近的空间\n   * @param grid :GridItemData\n   * @returns {x,y}\n   */\n  getNearEmptyPosition(grid: GridItemData) {\n    const overMax = 10;\n    let { x, y } = grid;\n    const { w, h } = grid;\n    // 不能小于一个 item 间距\n    if (y < this.gridMargin) y = this.gridMargin;\n    if (x < this.gridMargin) x = this.gridMargin;\n    // x = x < this.gridMargin ? this.gridMargin : x\n    // 宽度不能超出 整个布局的 宽度\n    x =\n      x + w + this.gridMargin > Math.floor(this.stageWidth / this.griddingWidth)\n        ? Math.floor(this.stageWidth / this.griddingWidth) - this.gridMargin - w\n        : x;\n    // 获取当前与当前 item 重叠交叉的 gridItem list\n    const overList = this.findOverlapItem(this.layoutData, x, y, w, h, [\n      this.dragData.id,\n      this.curActiveGridItem.id,\n    ]);\n    overList.forEach((overItem) => {\n      // 交叉部分的宽度\n      const overW =\n        w +\n        overItem.w -\n        (Math.max(x + w, overItem.x + overItem.w) - Math.min(x, overItem.x));\n      // 交叉部分的高度\n      const overH =\n        h +\n        overItem.h -\n        (Math.max(y + h, overItem.y + overItem.h) - Math.min(y, overItem.y));\n      if (overH < overW) {\n        if (overH < overMax && overH < overItem.h && overH < h) {\n          if (y < overItem.y) {\n            y = overItem.y - h - this.gridMargin;\n            if (y < this.gridMargin) {\n              y = this.gridMargin;\n            }\n          } else {\n            y = overItem.y + overItem.h + this.gridMargin;\n          }\n        }\n      } else {\n        if (overW < overMax && overW < overItem.w && overW < w) {\n          if (x < overItem.x && overItem.x - w > this.gridMargin) {\n            x = overItem.x - w - this.gridMargin;\n          } else if (\n            overItem.x + overItem.w + w + this.gridMargin <\n            Math.floor(this.stageWidth / this.griddingWidth)\n          ) {\n            x = overItem.x + overItem.w + this.gridMargin;\n          }\n        }\n      }\n    });\n    return { x, y };\n  }\n\n  /** 无用代码\n   * 返回 上次的layout\n   * @returns JSON\n   */\n  getBackLayout = () => {\n    this.dataStoreIndex--;\n    return this.dataStore[this.dataStoreIndex];\n  };\n  /**\n   * // 无用代码\n   * 打开上次的保存layout\n   */\n  backLayout = () => {\n    const data = this.getBackLayout();\n    if (data) {\n      this.layoutData = JSON.parse(data);\n    }\n  };\n  /** 调试代码 无用 下一个layout */\n  getForwardLayout = () => {\n    this.dataStoreIndex =\n      this.dataStore.length - 1 > this.dataStoreIndex\n        ? this.dataStoreIndex + 1\n        : this.dataStore.length - 1;\n    return this.dataStore[this.dataStoreIndex];\n  };\n  /**\n   * 调试代码 无用\n   * 打开下一步的layout\n   */\n  forwardLayout = () => {\n    const data = this.getForwardLayout();\n    if (data) {\n      this.layoutData = JSON.parse(data);\n    }\n  };\n  /**\n   * 调试代码, 无用\n   * 关闭事件\n   */\n  close = () => {\n    const emit: any = new Event(\"close\");\n    emit.detail = this.layoutData;\n    this.dispatchEvent(emit);\n  };\n  /**\n   * 测试代码 无用\n   */\n  save = () => {\n    const emit: any = new Event(\"save\");\n    emit.detail = this.layoutData;\n    this.dispatchEvent(emit);\n  };\n\n  /**\n   * 复杂\n   * @returns\n   */\n  gridItemCopyBySubMenu = () => {\n    if (!this.curGridItemSubMenuGridData) return;\n    const emit: any = new Event(\"gridItemCopy\");\n    emit.detail = this.curGridItemSubMenuGridData;\n    this.closeGridItemSubMenu();\n    this.reRender();\n    this.dispatchEvent(emit);\n  };\n\n  /**\n   * GridLayout的点击事件\n   * @param event\n   * @returns\n   */\n  onGridLayoutClick(event: any) {\n    if (event?.target?.closest(\".toolbar\")) return;\n    if (event?.target?.closest(\".grid-item\")) return;\n    if (event?.target?.closest(\"[slot]\")) return;\n    if (event?.target?.closest(\".btn-more\")) return;\n    if (event?.target?.closest(\".box-menu\")) return;\n\n    // 删除所有选中\n    this.layoutData.forEach((item) => {\n      delete item.selected;\n    });\n    // this.styleMapEditing = false\n    // 关闭编辑下拉框\n    this.closeGridItemSubMenu();\n    // 重新渲染\n    this.reRender();\n  }\n\n  /**\n   * 获取GridItem的TOP y坐标 检查上方有没有空间,如果有往上挪动一点\n   * @param dataList\n   * @param grid\n   * @param exceptIds\n   * @returns\n   */\n  getGridItemTopY(dataList: GridItemData[], grid: ItemData, exceptIds: any[]) {\n    const { x, h, w } = grid;\n    let { y } = grid;\n    let item: any = this.findBigestOverlapItem(\n      dataList,\n      x,\n      y - this.gridMargin,\n      w,\n      h,\n      exceptIds\n    );\n    while (!item) {\n      // 一个网格一个网格的找\n      y = y - this.gridMargin;\n      if (y <= this.gridMargin) {\n        // 当间距已经最小了的时候 停止查找,当前项目停在这个位置\n        y = this.gridMargin;\n        return { x, y };\n      }\n      // 每次往上挪一点  如果没有重叠的就继续找,找到有重叠的为止 (y - this.gridMargin)这个位置有重叠就返回y\n      item = this.findBigestOverlapItem(\n        dataList,\n        x,\n        y - this.gridMargin,\n        w,\n        h,\n        exceptIds\n      );\n    }\n    return { x, y };\n  }\n  /**\n   * 无用代码,暂时保留\n   * 计算两项交叉面积\n   * @param data1\n   * @param data2\n   * @returns\n   */\n  calcOverArea(data1: ItemData, data2: ItemData) {\n    const overX1 = Math.max(data1.x, data2.x);\n    const overX2 = Math.min(data1.x + data1.w, data2.x + data2.w);\n    const overW = overX2 - overX1;\n    const overY1 = Math.max(data1.y, data2.y);\n    const overY2 = Math.min(data1.y + data1.h, data2.y + data1.h);\n    const overH = overY2 - overY1;\n    const overArea = overH * overW;\n    return overArea;\n  }\n\n  /**\n   * 排序上面有空白的地方\n   * @param list\n   */\n  sortTopSpace(list: GridItemData[]) {\n    // const maxWidth = this.maxGridItemWidthCount\n    // const maxHeight = Math.round(this.calcStageActualHeight / this.griddingHeight)\n    // const space = 10\n    // for (let sx = this.gridMargin; sx < maxWidth; sx += space) {\n    //     for (let sy = this.gridMargin; sy < maxHeight; sy += space) {\n    //         const w = space\n    //         const h = space\n    //         const item = this.findBigestOverlapItem(list, sx, sy, w, h, [\n    //             this.curActiveGridItem?.id\n    //         ])\n    //         if (item) {\n    //             const { x, y } = this.getGridItemTopY(list, item, [\n    //                 this.curActiveGridItem?.id,\n    //                 item.id\n    //             ])\n    //             item.x = x\n    //             item.y = y\n    //             sy = item.y + item.h\n    //         }\n    //     }\n    // }\n\n    // 将当前拖动的item和 浮动的item 排除\n    let dataList = list.filter(\n      (item) => item.id !== this.curActiveGridItem?.id && !item.float\n    );\n    dataList = dataList.sort((a: GridItemData, b: GridItemData) => {\n      if (a.y < b.y) {\n        return -1;\n      } else if (a.y == b.y) {\n        //拖拽Grid优先排最前面\n        if (a.id === DRAG_ID) return -1;\n        if (b.id === DRAG_ID) return 1;\n        if (a.x < b.x) return -1;\n        return 1;\n      } else {\n        return 1;\n      }\n    });\n    for (let i = 0; i < dataList.length; i++) {\n      const item = dataList[i];\n      // 拿到上方空白处的y网格数\n      const { y } = this.getGridItemTopY(list, item, [\n        this.curActiveGridItem?.id,\n        item.id,\n      ]);\n      // 如果y比当前item的y小 name 就将 y 赋值给 item.y 将 当前item上移\n      if (y < item.y) {\n        item.y = y;\n        // 然后递归计算\n        this.sortTopSpace(list);\n        return;\n      }\n    }\n  }\n  /**\n   * 排序底部重叠的地方\n   * @param list\n   */\n  sortBottomOver(list: GridItemData[]) {\n    let dataList = list.filter(\n      (item) => item.id !== this.curActiveGridItem?.id\n    );\n    dataList = dataList.sort((a: GridItemData, b: GridItemData) => {\n      if (a.y < b.y) {\n        return -1;\n      } else if (a.y == b.y) {\n        //拖拽Grid优先排最前面\n        if (a.id === DRAG_ID) return -1;\n        if (b.id === DRAG_ID) return 1;\n        if (a.x < b.x) return -1;\n        return 1;\n      } else {\n        return 1;\n      }\n    });\n\n    // 遍历每个item\n    for (const item of dataList) {\n      // 浮动跳过\n      if (item.float) {\n        continue;\n      }\n      // 当前移动的项目跳过\n      if (this.curMovingGridItemData?.id === item.id) {\n        continue;\n      }\n      this.pressDownOver(list, item);\n    }\n  }\n  /**\n   * 往下压\n   * @param list\n   * @param item\n   * 将每个item 与 其他的item 一个个比较 有无重叠的部分\n   */\n  pressDownOver(list: GridItemData[], item: GridItemData) {\n    const { id, x, y, w, h } = item;\n    // 与item 重叠的 gridItemList\n    const newList = this.findOverlapItem(list, x, y, w, h, [\n      id,\n      // this.dragData?.id,\n      this.curActiveGridItem?.id,\n    ]);\n\n    // 如果有重叠\n    if (newList.length) {\n      for (let i = 0; i < newList.length; i++) {\n        // 将重叠项目往下压\n        newList[i].y = y + h + this.gridMargin;\n        // 递归 直到所有都没有重叠为止\n        this.pressDownOver(list, newList[i]);\n      }\n    }\n  }\n\n  /**\n   * 重新排序 将网格重新组合排列\n   */\n  rearrangement() {\n    let list = [...this.layoutData];\n    if (this.curActiveGridItem) {\n      list = [...list, this.dragData];\n    }\n    this.sortBottomOver(list);\n    this.sortTopSpace(list);\n\n    this.layoutData = list\n      .filter((item) => {\n        if (item.id === DRAG_ID) {\n          this.dragData = item;\n          return false;\n        }\n        return true;\n      })\n      .map((item) => {\n        if (item.id === this.curActiveGridItem?.id) {\n          return this.curActiveGridItem;\n        }\n        return item;\n      });\n    this.reRender();\n  }\n  /**\n   * 浮动 向上一级\n   * @returns\n   */\n  setZindexUp() {\n    // 首先关闭菜单\n    this.closeGridItemSubMenu();\n    if (!this.curSelectGridItem?.float) {\n      // 如果当前选中的item 不是浮动, 那么重新渲染\n      this.reRender();\n      return;\n    }\n    // 找出浮动的item 列表\n    let floatGridItems = this.layoutData.filter((item) => item.float);\n    // 将浮动的item 列表排序\n    floatGridItems = floatGridItems.sort((a: any, b: any) => a.z - b.z);\n    // 将排序后的浮动的item 的 zIndex 重新赋值\n    floatGridItems.forEach((item, i) => {\n      item.z = i;\n    });\n    //找到当前选中的那个item 的 index\n    const index = floatGridItems.findIndex(\n      (item) => item.id === this.curSelectGridItem?.id\n    );\n    // 如果他是最后一个 即 浮动层级最高的那个 那么不用处理直接渲染\n    if (index >= floatGridItems.length - 1) {\n      this.reRender();\n      return;\n    }\n    // 删除 当前选中的item\n    const item = floatGridItems.splice(index, 1);\n    // 将当前的item 插入到 下一个位置\n    floatGridItems.splice(index + 1, 0, item[0]);\n    // 重新分配zIndex\n    floatGridItems.forEach((item, i) => {\n      item.z = i;\n    });\n    // 重新渲染\n    this.reRender();\n  }\n\n  /**\n   * 浮动 向下一级\n   * @returns\n   */\n  setZindexDown() {\n    // 关闭菜单\n    this.closeGridItemSubMenu();\n    if (!this.curSelectGridItem?.float) {\n      // 如果当前选中的item 不是浮动, 那么重新渲染\n      this.reRender();\n      return;\n    }\n    let floatGridItems = this.layoutData.filter((item) => item.float);\n    // 浮动排序\n    floatGridItems = floatGridItems.sort((a: any, b: any) => a.z - b.z);\n    // 重新赋值\n    floatGridItems.forEach((item, i) => {\n      item.z = i;\n    });\n    // 查找当前选中的item 的 index\n    const index = floatGridItems.findIndex(\n      (item) => item.id === this.curSelectGridItem?.id\n    );\n    // 如果是第一个的话 不做处理 已经是最底层了\n    if (index === 0) {\n      this.reRender();\n      return;\n    }\n    // 取出当前选中的item\n    const item = floatGridItems.splice(index, 1);\n    // 插入到前一个位置\n    floatGridItems.splice(index - 1, 0, item[0]);\n    // 重新分配zIndex\n    floatGridItems.forEach((item, i) => {\n      item.z = i;\n    });\n    // 关闭菜单 重新渲染\n    this.closeGridItemSubMenu();\n    this.reRender();\n  }\n\n  /**\n   *  无用代码,暂时保留\n   * @returns\n   */\n  getLayoutDefaultGridItemStyle(): any {\n    const style: string[] = [\".grid-layout > .grid-item {\"];\n    if (this.layoutDefaultGridStyle.borderRadius) {\n      style.push(\n        ` border-radius: ${this.layoutDefaultGridStyle.borderRadius}px;`\n      );\n    }\n    if (this.layoutDefaultGridStyle.borderStyle) {\n      style.push(`border-style: ${this.layoutDefaultGridStyle.borderStyle};`);\n      style.push(\n        `border-color: ${\n          this.layoutDefaultGridStyle.borderColor || \"transparent\"\n        };`\n      );\n      style.push(`border-width: ${this.layoutDefaultGridStyle.borderWidth}px;`);\n    }\n\n    if (this.layoutDefaultGridStyle.contentColor)\n      style.push(\n        `background-color: ${this.layoutDefaultGridStyle.contentColor};`\n      );\n    style.push(\"}\");\n    return html`<style>\n      ${style.join(\"\")}\n    </style>`;\n  }\n\n  /**\n   * 打开样式配置\n   * @returns\n   */\n  openSetStyleBySubMenu() {\n    if (!this.curGridItemSubMenuGridData) return;\n    const emit: any = new Event(\"openSetActiveStyle\");\n    emit.detail = this.curGridItemSubMenuGridData;\n    this.closeGridItemSubMenu();\n    this.reRender();\n    this.dispatchEvent(emit);\n  }\n  /**\n   * 弹出右上角的菜单\n   * @returns\n   */\n  openConfigSetBySubMenu() {\n    if (!this.curGridItemSubMenuGridData) return;\n    const emit: any = new Event(\"openConfigSet\");\n    emit.detail = this.curGridItemSubMenuGridData;\n    this.closeGridItemSubMenu();\n    this.reRender();\n    this.dispatchEvent(emit);\n  }\n\n  /**\n   * 当前活动的GridItem\n   *\n   */\n  get curActiveGridItem() {\n    return this.curMovingGridItemData || this.curResizingGridItemData || null;\n  }\n  /**\n   * 当前活动的GridItem style\n   */\n  get curActiveGridItemStyle() {\n    return this.curActiveGridItem?.style;\n  }\n  get curSelectGridItem(): GridItemData | undefined {\n    return this.layoutData.find((item) => item.selected);\n  }\n  /**\n   * 选中的UserStyle;\n   */\n  get curGridItemSubMenuGridDataActiveStyle():\n    | ActiveGridItemStyleType\n    | undefined {\n    if (!this.curGridItemSubMenuGridData) return;\n    if (!this.curGridItemSubMenuGridData.activeStyle) {\n      const astye: ActiveGridItemStyleType = {\n        titleStyleVisible: false,\n        borderStyle: \"\",\n        borderWidth: 0,\n        borderColor: \"\",\n        borderRadius: 0,\n        titleColor: \"\",\n        contentColor: \"\",\n        // enbled: true,\n        isFloat: this.curGridItemSubMenuGridData.float || false,\n      };\n      this.curGridItemSubMenuGridData.activeStyle = astye;\n    }\n    return this.curGridItemSubMenuGridData.activeStyle;\n  }\n  /**\n   * 计算的舞台虚拟高度 网格数\n   */\n  get calcStageVirtualHeight(): number {\n    let list = [...this.layoutData];\n    if (this.dragData) {\n      list = [this.dragData, ...list];\n    }\n    let h: number = 0;\n    list.forEach((item) => {\n      h = h < item.y + item.h ? item.y + item.h : h;\n    });\n    h = h + this.gridMargin;\n    return h;\n  }\n  /**\n   * 计算的舞台实际高度\n   */\n  get calcStageActualHeight(): number {\n    return this.calcStageVirtualHeight * this.griddingHeight;\n  }\n  /**\n   * 无用代码\n   * 关闭\n   */\n  dialogClose() {\n    this.showDialogGridStyle = false;\n    this.closeGridItemSubMenu();\n    this.reRender();\n  }\n  /**\n   * resize事件\n   */\n  boxResizeTime: any = 0;\n  boxResize() {\n    if (this.boxResizeTime) clearTimeout(this.boxResizeTime);\n    this.boxResizeTime = setTimeout(() => {\n      this.stageWidth =\n        this.getBoundingClientRect().width - this.defaultRightMargin;\n      this.reRender();\n\n      this.dispatchGridItemResizeEvent(null);\n    }, 300);\n  }\n  /**\n   * 绑定事件\n   */\n  bindHnd: { [s: string]: any } = {};\n  bind(obj: any, type: string) {\n    obj.bindHnd[type] = () => {\n      const fun: Function = obj[type];\n      fun();\n    };\n    return obj.bindHnd[type];\n  }\n  /**\n   * 无用代码\n   * @param e\n   */\n  WcVueGridStyleChange(e: any) {\n    const { detail }: { detail: any[] } = e;\n    const style: { gridStyle: any; globalGridStyle: any } = detail[0];\n    if (this.curGridItemSubMenuGridData) {\n      this.curGridItemSubMenuGridData.activeStyle = { ...style.gridStyle };\n    }\n    this.layoutDefaultGridStyle = { ...style.globalGridStyle };\n  }\n  /**\n   * 生命周期--初始化\n   */\n  connectedCallback() {\n    // 固定写法 调用父类的生命周期\n    super.connectedCallback();\n    // 默认样式初始化\n    this.layoutDefaultGridStyle.borderRadius =\n      this.layoutDefaultGridStyle.borderRadius !== undefined\n        ? this.layoutDefaultGridStyle.borderRadius\n        : 3;\n    this.layoutDefaultGridStyle.borderColor =\n      this.layoutDefaultGridStyle.borderColor !== undefined\n        ? this.layoutDefaultGridStyle.borderColor\n        : \"#c3c3c3\";\n    this.layoutDefaultGridStyle.borderWidth =\n      this.layoutDefaultGridStyle.borderWidth !== undefined\n        ? this.layoutDefaultGridStyle.borderWidth\n        : 1;\n    this.layoutDefaultGridStyle.borderStyle =\n      this.layoutDefaultGridStyle.borderStyle !== undefined\n        ? this.layoutDefaultGridStyle.borderStyle\n        : \"solid\";\n    this.layoutDefaultGridStyle.titleColor =\n      this.layoutDefaultGridStyle.titleColor !== undefined\n        ? this.layoutDefaultGridStyle.titleColor\n        : \"#fff\";\n    this.layoutDefaultGridStyle.contentColor =\n      this.layoutDefaultGridStyle.contentColor !== undefined\n        ? this.layoutDefaultGridStyle.contentColor\n        : \"#fff\";\n    // getBoundingClientRect 原生方法 获取目标dom 的 宽高位置信息\n    const curRect = this.getBoundingClientRect();\n    // 设置宽高\n    this.stageWidth = curRect.width - this.defaultRightMargin;\n    this.stageHeight = curRect.height;\n    const layoutHeight = curRect.height;\n    // 每一行默认占四个拖拽项目,中间三个间隙 + 两头间隙 一共五个间隙\n    // 所以此处((this.maxGridItemWidthCount - this.gridMargin) / 4 就是每一个网格加上间隙的网格树\n    // 减去间隙 就是每个 拖拽项目 所占的网格数\n    this.defaultGridItemWidth =\n      Math.floor((this.maxGridItemWidthCount - this.gridMargin) / 4) -\n      this.gridMargin;\n    // dom总高度/每个网格所占的像素值 获取整屏网格数\n    this.maxGridItemHeightCount = Math.floor(\n      layoutHeight / this.griddingHeight\n    );\n    // 用整屏网格数减去间隙 获取每个网格所占的像素值 (通上 宽度计算)\n    // 得到每个默认拖拽项目的高度 所占的网格数\n    this.defaultGridItemHeight =\n      Math.floor((this.maxGridItemHeightCount - this.gridMargin) / 4) -\n      this.gridMargin;\n    // 看是否禁止滚动条\n    this.style.overflowY = this.isDisableScrollBars ? \"hidden\" : \"auto\";\n    // 监听窗口大小变化\n    window.addEventListener(\"resize\", this.bind(this, \"boxResize\"));\n  }\n  /**\n   * 生命周期--销毁\n   */\n  disconnectedCallback() {\n    window.removeEventListener(\"resize\", this.bindHnd[\"boxResize\"]);\n  }\n\n  /**\n   *  工具栏\n   */\n  onCLickTool(event: any) {\n    const target = event.target;\n    // 获取dom 元素 的 位置信息\n    const rect = target.getBoundingClientRect();\n    const parentRect =\n      this.shadowRoot?.firstElementChild?.getBoundingClientRect() || {\n        left: 0,\n        top: 0,\n        width: this.stageWidth,\n        height: this.calcStageActualHeight,\n      };\n    // 设置弹出菜单的位置\n    this.curGridItemSubMenuPos.x = rect.left - parentRect.left + rect.width + 3;\n    this.curGridItemSubMenuPos.y = rect.top - parentRect.top + rect.height + 3;\n    // 显示菜单\n    this.curGridItemSubMenuShow = true;\n    this.curGridItemSubMenuGridData = this.getGridItem(event.currentTarget);\n    // 移除其它的选中效果\n    this.layoutData.forEach((item) => {\n      delete item.selected;\n    });\n    // 当前弹出菜单 的item 选中的效果\n    this.curGridItemSubMenuGridData.selected = true;\n    this.reRender();\n  }\n  /**\n   * 获取title\n   */\n  getItemTitle(itemId: string) {\n    const item: any = this.headerConfigList.find(\n      (itemConfig: any) => itemConfig.id === itemId\n    );\n    const panelOptions = item?.PanelOptions;\n\n    return panelOptions?.title || \"\";\n  }\n  /**\n   * 渲染方法\n   * @returns\n   */\n  render() {\n    const curRect = this.getBoundingClientRect();\n    // 预留有滚动条的宽度\n    this.stageWidth = curRect.width - this.defaultRightMargin;\n    this.stageHeight = curRect.height;\n    // 展示页面\n    return html`<div class=\"grid-layout\" @click=\"${this.onGridLayoutClick}\">\n        <!-- 如果有滚动条,那么需要加上虚拟高度把页面撑开 -->\n        <div\n          class=\"grid-sitting\"\n          style=\"height:${this.calcStageActualHeight}px;\"\n        ></div>\n        ${this.edit\n          ? html`\n              <!-- 测试 开发 的工具栏 -->\n              <div class=\"toolbar\" hide=\"${this.hideToolbar}\">\n                <i class=\"el-icon add\" @click=\"${this.addGridItem}\">\n                  <!--[-->\n                  ${ADD_SVG}\n                  <!--]-->\n                </i>\n                <i class=\"el-icon back\" @click=\"${this.backLayout}\">\n                  <!--[-->\n                  ${BACK_LAYOUT}\n                  <!--]-->\n                </i>\n                <i class=\"el-icon forward\" @click=\"${this.forwardLayout}\">\n                  <!--[-->\n                  ${FORWARD_LAYOUT}\n                  <!--]-->\n                </i>\n                <i class=\"el-icon save\" @click=\"${this.save}\">\n                  <!--[-->\n                  ${SAVE_LAYOUT}\n                  <!--]-->\n                </i>\n                <i class=\"el-icon close\" @click=\"${this.close}\">\n                  <!--[-->\n                  ${CLOSE_LAYOUT}\n                  <!--]-->\n                </i>\n              </div>\n              ${this.showGridItemMenu()}\n            `\n          : \"\"}\n        <!-- 拖拽项目渲染 -->\n        ${this.layoutData.map((item, i) => {\n          return html`\n            <div\n              class=\"grid-item\"\n              data-index=\"${i}\"\n              selected=\"${item.selected || false}\"\n              float=\"${item.float || false}\"\n              edit=\"${this.edit}\"\n              style=\"${this.getGridItemStyle(item)}\"\n              transition=\"${this.transition}\"\n              lightning-style=\"${this.lightningId === String(item.id)}\"\n            >\n              <div class=\"head-tool\" @mousedown=\"${this.gridItemDragstart}\">\n                <div>\n                  <div class=\"title_cls\">\n                    ${TITLE_SVG}\n                    <div style=\"margin-left: 5px;\">\n                      ${item.activeStyle?.titleStyleVisible\n                        ? this.getItemTitle(item.id)\n                        : \"\"}\n                    </div>\n                  </div>\n                </div>\n                <div class=\"tool-btn\" @click=\"${this.onCLickTool}\">\n                  <i class=\"el-icon btn-more\" style=\"font-size: 20px;\">\n                    ${MORE_SVG}\n                  </i>\n                </div>\n              </div>\n              <div style=\"height: calc(100% - 36px);\">\n                <slot name=\"${item.slot || \"\"}\"></slot>\n              </div>\n              <!-- 编辑状态不让点击里面的元素 -->\n              <!-- ${this.edit ? html`<div class=\"move-bg\"></div>` : \"\"} -->\n              <!-- 渲染右上角工具菜单 -->\n              ${this.renderToobar()}\n            </div>\n          `;\n        })}\n        <!-- 拖拽中 -->\n        ${this.draggIng ? this.drawDragDataHtml() : \"\"}\n      </div>\n      <!-- 无用代码,暂时保留 -->\n      ${this.showDialog()} ${this.getLayoutDefaultGridItemStyle()} `;\n  }\n  // 工具栏 (三个点 和 右下角的 resize图标)\n  renderToobar() {\n    if (!this.edit) return \"\";\n    return html`<div\n      class=\"resize bottom-right\"\n      @mousedown=\"${this.gridItemResizeStart}\"\n    ></div>`;\n  }\n  // 编辑菜单漂浮窗\n  showGridItemMenu() {\n    return html`\n      <div\n        class=\"box-menu ${this.curGridItemSubMenuShow ? \"show\" : \"\"}\"\n        style=\"left:${this.curGridItemSubMenuPos.x}px;top:${this\n          .curGridItemSubMenuPos.y}px\"\n      >\n        <div class=\"menu-item\" @click=\"${this.openConfigSetBySubMenu}\">\n          <i class=\"el-icon\">\n            <!--[-->\n            ${EDIT_SVG}\n            <!--]-->\n          </i>\n          <span class=\"el-label\">${this.i18n.t(\"edit\", true)}</span>\n        </div>\n        <div class=\"menu-item\" @click=\"${this.openSetStyleBySubMenu}\">\n          <i class=\"el-icon\">\n            <!--[-->\n            ${STYLE_SVG}\n            <!--]-->\n          </i>\n          <span class=\"el-label\">${this.i18n.t(\"style\", true)}</span>\n        </div>\n        <div class=\"menu-item\" @click=\"${this.gridItemCloseBySubMenu}\">\n          <i class=\"el-icon close grid-item-close\" style=\"font-size:20px;\">\n            <!--[-->\n            ${DELETE_SVG}\n            <!--]-->\n          </i>\n          <span class=\"el-label\">${this.i18n.t(\"delete\", true)}</span>\n        </div>\n        <div\n          class=\"menu-item\"\n          @click=\"${this.setZindexUp}\"\n          style=\"display:${this.curSelectGridItem?.float ? \"flex\" : \"none\"}\"\n        >\n          <i class=\"el-icon\">\n            <!--[-->\n            ${ZINDEX_UP_SVG}\n            <!--]-->\n          </i>\n          <span class=\"el-label\">${this.i18n.t(\"upperFloor\", true)}</span>\n        </div>\n        <div\n          class=\"menu-item\"\n          @click=\"${this.setZindexDown}\"\n          style=\"display:${this.curSelectGridItem?.float ? \"flex\" : \"none\"}\"\n        >\n          <i class=\"el-icon\">\n            <!--[-->\n            ${ZINDEX_DOWN_SVG}\n            <!--]-->\n          </i>\n          <span class=\"el-label\">${this.i18n.t(\"nextFloor\", true)}</span>\n        </div>\n        <div class=\"menu-item\" @click=\"${this.gridItemCopyBySubMenu}\">\n          <i class=\"el-icon\">\n            <!--[-->\n            ${DELETE_LAYOUT_SVG}\n            <!--]-->\n          </i>\n          <span class=\"el-label\">${this.i18n.t(\"copy\", true)}</span>\n        </div>\n      </div>\n    `;\n  }\n  // 无用代码\n  showDialog() {\n    if (!this.showDialogGridStyle) return \"\";\n    return html`<div class=\"dialog\" open>\n      <div class=\"style-dialog\">\n        <!-- <wc-vue-grid-style\n                    global-config=${JSON.stringify(this.layoutDefaultGridStyle)}\n                    config=${JSON.stringify(\n          this.curGridItemSubMenuGridDataActiveStyle\n        )}\n                    @change=${this.WcVueGridStyleChange}\n                    @close=${this.dialogClose}\n                ></wc-vue-grid-style> -->\n        <div class=\"head\">Style</div>\n        <i class=\"el-icon close\" @click=\"${this.dialogClose}\">\n          <!--[-->\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              fill=\"currentColor\"\n              d=\"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z\"\n            ></path>\n          </svg>\n          <!--]-->\n        </i>\n      </div>\n    </div>`;\n  }\n  static styles = css`\n    :host {\n      display: block;\n      padding: 0px;\n      height: 100%;\n      overflow-x: hidden;\n    }\n    :host::-webkit-scrollbar {\n      width: 8px;\n      background: #b3b3b3;\n    }\n    :host::-webkit-scrollbar-thumb {\n      width: 8px;\n      background: #767676;\n      border-radius: 5px;\n    }\n    :host::-webkit-scrollbar-track {\n      background: transparent;\n      border-radius: 0px;\n    }\n    .grid-layout {\n      position: relative;\n      width: 100%;\n      height: 100%;\n    }\n    .toolbar {\n      position: absolute;\n      right: 5px;\n      top: 5px;\n      padding: 2px 3px;\n      z-index: 999999;\n      display: flex;\n      background: #000;\n      box-shadow: 2px 2px 5px #000;\n      border-radius: 3px;\n      border: 1px solid rgb(103 103 103);\n    }\n    .toolbar[hide=\"true\"] {\n      display: none;\n    }\n    .toolbar.vertical {\n      top: 20%;\n      right: 5px;\n      flex-flow: column;\n    }\n    .toolbar .el-icon svg {\n      width: 18px;\n      height: 18px;\n    }\n    .toolbar .el-icon {\n      cursor: pointer;\n      margin: 3px 3px;\n      border: 1px solid #dbdbdb;\n      border-radius: 3px;\n      padding: 3px;\n      display: inline-flex;\n      width: 18px;\n      height: 18px;\n      background-color: #fff;\n      color: #333;\n    }\n    .toolbar .el-icon:hover {\n      background-color: #4097e4;\n      color: #fff;\n      opacity: 0.7;\n    }\n\n    .toolbar .el-icon[active=\"true\"] {\n      background-color: #4097e4;\n      color: #fff;\n    }\n    .toolbar .el-icon:active {\n      background-color: rgb(131 177 217);\n      color: #fff;\n    }\n    .toolbar .el-icon.forward svg {\n      transform: scaleX(-1);\n    }\n    .old-data {\n      opacity: 0.3;\n    }\n    .grid-sitting {\n      width: 100%;\n      top: 0px;\n      position: absolute;\n      z-index: -1;\n    }\n    .grid-item {\n      display: block;\n      position: absolute;\n      min-width: 20px;\n      min-height: 10px;\n      overflow: hidden;\n      box-sizing: border-box;\n    }\n    .grid-item[transition=\"true\"] {\n      transition: all 0.3s;\n    }\n    .grid-item.move {\n      cursor: move;\n    }\n    .grid-item[edit=\"true\"][selected=\"true\"],\n    .grid-item[edit=\"true\"]:hover {\n      outline: rgba(124, 165, 208, 0.2) solid 3px;\n    }\n    .grid-item[edit=\"true\"][float=\"true\"] {\n      box-shadow: rgb(0, 0, 0) 5px 5px 30px -25px;\n    }\n    .grid-item[float=\"true\"] .tool-box .set-float {\n      opacity: 1;\n      color: #3250a7;\n    }\n    .grid-item:hover .resize {\n      display: flex;\n    }\n    .grid-item .bottom-right {\n      cursor: se-resize;\n      right: 4px;\n      bottom: 4px;\n      width: 6px;\n      height: 6px;\n      border-right: 2px solid rgb(195, 190, 190);\n      border-bottom: 2px solid rgb(195, 190, 190);\n    }\n    .grid-item .tool-box {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      display: flex;\n    }\n    .grid-item .tool-box:hover {\n      opacity: 0.5;\n    }\n    .grid-item .tool-box .el-icon.btn-more {\n      position: relative;\n      display: flex;\n      height: 3px;\n    }\n    .grid-item .tool-box .el-icon.btn-more svg {\n      color: #1b1d1f;\n      width: 16px;\n      height: 16px;\n    }\n    .grid-item .tool-box .el-icon:hover {\n      cursor: pointer;\n      opacity: 0.6;\n    }\n    .grid-item .resize > svg {\n      color: rgb(160 160 160);\n    }\n    .grid-item .resize:hover {\n      opacity: 0.6;\n    }\n\n    .grid-item[drag=\"true\"] {\n      opacity: 0.5;\n      background-color: rgb(249, 227, 193);\n      box-shadow: none;\n      border: none;\n      transition: none;\n    }\n    .grid-item[drag=\"true\"] .close,\n    .grid-item[drag=\"true\"] .set-float {\n      display: none;\n    }\n    .grid-item[lightning-style=\"true\"] {\n      animation: lightning-style 0.5s;\n    }\n    @keyframes lightning-style {\n      0% {\n        box-shadow: 0px 0px 0px -2px #000;\n      }\n      10% {\n        box-shadow: 0px 0px 2px -2px #000;\n      }\n      20% {\n        box-shadow: 0px 0px 4px -2px #000;\n      }\n      30% {\n        box-shadow: 0px 0px 6px -2px #000;\n      }\n      40% {\n        box-shadow: 0px 0px 8px -2px #000;\n      }\n      50% {\n        box-shadow: 0px 0px 10px -2px #000;\n      }\n      60% {\n        box-shadow: 0px 0px 8px -2px #000;\n      }\n      70% {\n        box-shadow: 0px 0px 6px -2px #000;\n      }\n      80% {\n        box-shadow: 0px 0px 4px -5px #000;\n      }\n      90% {\n        box-shadow: 0px 0px 2px -2px #000;\n      }\n      100% {\n        box-shadow: 0px 0px 0px -2px #000;\n      }\n    }\n    .resize {\n      position: absolute;\n    }\n    .toolbar .el-icon.style-update-btn:hover {\n      background-color: #fff;\n      color: #333;\n    }\n    .toolbar .el-icon.style-update-btn[active=\"true\"] {\n      background-color: #4097e4;\n      color: #fff;\n    }\n    .box-menu {\n      display: none;\n      min-width: 150px;\n      min-height: 32px;\n      position: absolute;\n      z-index: 1900;\n      background-color: #fff;\n      box-shadow: 0px 0px 4px 0px rgba(188, 188, 188, 0.5);\n      border: 0px solid #e0e0e0;\n      border-radius: 6px;\n      font-style: normal;\n      font-size: 12px;\n      color: #1b1d1f;\n      transform: translateX(-100%);\n      box-sizing: border-box;\n      padding: 4px;\n    }\n    .box-menu.show {\n      display: block;\n    }\n    .box-menu .menu-item {\n      display: flex;\n      padding: 8px 15px;\n      align-items: center;\n      cursor: pointer;\n      border-radius: 6px;\n    }\n    .box-menu .menu-item .el-icon {\n      width: 14px;\n      height: 14px;\n      align-items: center;\n      display: flex;\n      color: #585656;\n    }\n    .box-menu .menu-item:hover,\n    .box-menu .menu-item[selected] {\n      background-color: #f6f6f6;\n      color: #1b1d1f;\n    }\n    .box-menu .menu-item:hover .el-icon {\n      color: #1b1d1f;\n    }\n    .box-menu .menu-item span {\n      margin-left: 10px;\n    }\n    .dialog {\n      position: absolute;\n      z-index: 2000;\n      left: 0;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0, 0, 0, 0.3);\n    }\n    .style-dialog {\n      font-size: 12px;\n      position: absolute;\n      width: 350px;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border: 1px solid #e6e6e6;\n      box-shadow: 0px 0px 15px -6px;\n      background: white;\n      padding: 42px 20px 20px;\n      border-radius: 5px;\n      max-height: 100%;\n    }\n    .dialog .close {\n      width: 18px;\n      height: 18px;\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      cursor: pointer;\n    }\n    .dialog .close:hover {\n      opacity: 0.7;\n    }\n    .style-dialog .head {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      padding: 8px;\n      border-bottom: 1px solid #dddddd;\n    }\n    .move-bg {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0px;\n      background-color: rgba(182, 182, 182, 0);\n      // z-index: -1;\n      cursor: move;\n    }\n    .head-tool {\n      height: 36px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      cursor: move;\n      padding: 0 10px;\n    }\n    .head-tool:hover {\n      background-color: #f6f6f6;\n    }\n    .grid-layout > .grid-item[edit=\"false\"] .head-tool {\n      cursor: default;\n    }\n    .grid-layout > .grid-item[edit=\"false\"] .head-too:hover {\n      background-color: #fff;\n    }\n    .tool-btn {\n      cursor: pointer;\n    }\n    .grid-layout > .grid-item[edit=\"false\"] .tool-btn {\n      display: none;\n    }\n    .title_cls {\n      display: flex;\n      align-items: center;\n    }\n  `;\n}\n"]}